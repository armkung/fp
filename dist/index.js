"use strict";Object.defineProperty(exports, "__esModule", { value: true });var _exportNames = { ifElse: true, when: true, applyTo: true, traverse: true, dropRightWhileWithKey: true, dropWhileWithKey: true, everyWithKey: true, filterWithKey: true, findWithKey: true, findFromWithKey: true, findIndexWithKey: true, findIndexFromWithKey: true, findKeyWithKey: true, findLastWithKey: true, findLastFromWithKey: true, findLastIndexWithKey: true, findLastIndexFromWithKey: true, findLastKeyWithKey: true, flatMapWithKey: true, flatMapDeepWithKey: true, flatMapDepthWithKey: true, forEachWithKey: true, forEachRightWithKey: true, forInWithKey: true, forInRightWithKey: true, forOwnWithKey: true, forOwnRightWithKey: true, mapWithKey: true, mapKeysWithKey: true, mapValuesWithKey: true, partitionWithKey: true, rejectWithKey: true, removeWithKey: true, someWithKey: true, takeRightWhileWithKey: true, takeWhileWithKey: true, timesWithKey: true, concatWith: true, is: true, evolve: true, applySpec: true, append: true, prepend: true, objOf: true };exports.objOf = exports.prepend = exports.append = exports.applySpec = exports.evolve = exports.is = exports.concatWith = exports.timesWithKey = exports.takeWhileWithKey = exports.takeRightWhileWithKey = exports.someWithKey = exports.removeWithKey = exports.rejectWithKey = exports.partitionWithKey = exports.mapValuesWithKey = exports.mapKeysWithKey = exports.mapWithKey = exports.forOwnRightWithKey = exports.forOwnWithKey = exports.forInRightWithKey = exports.forInWithKey = exports.forEachRightWithKey = exports.forEachWithKey = exports.flatMapDepthWithKey = exports.flatMapDeepWithKey = exports.flatMapWithKey = exports.findLastKeyWithKey = exports.findLastIndexFromWithKey = exports.findLastIndexWithKey = exports.findLastFromWithKey = exports.findLastWithKey = exports.findKeyWithKey = exports.findIndexFromWithKey = exports.findIndexWithKey = exports.findFromWithKey = exports.findWithKey = exports.filterWithKey = exports.everyWithKey = exports.dropWhileWithKey = exports.dropRightWhileWithKey = exports.traverse = exports.applyTo = exports.when = exports.ifElse = void 0;

var fp = _interopRequireWildcard(require("lodash/fp"));

































Object.keys(fp).forEach(function (key) {if (key === "default" || key === "__esModule") return;if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;Object.defineProperty(exports, key, { enumerable: true, get: function () {return fp[key];} });});function _interopRequireWildcard(obj) {if (obj && obj.__esModule) {return obj;} else {var newObj = {};if (obj != null) {for (var key in obj) {if (Object.prototype.hasOwnProperty.call(obj, key)) {var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};if (desc.get || desc.set) {Object.defineProperty(newObj, key, desc);} else {newObj[key] = obj[key];}}}}newObj.default = obj;return newObj;}} /* eslint-disable */ // no curry
const ifElse = (predicate, whenTrueFn, whenFalseFn) => (...args) => predicate(...args) ? whenTrueFn(...args) : whenFalseFn(...args);exports.ifElse = ifElse;const when = (predicate, whenTrueFn) => (...args) => ifElse(predicate, whenTrueFn, fp.identity)(...args);exports.when = when;const applyTo = (...args) => fn => fp.apply(fn)(fp.flatten(args));exports.applyTo = applyTo;const traverse = (transform = fp.identity, fn = (value, path, obj) => fp.set(path, value, obj), result = {}) => function reduce(acc, keys = []) {return when(fp.overSome([fp.isArray, fp.isPlainObject]), fp.pipe(fp.toPairs, fp.map(([key, value]) => {const path = keys.concat(key);const mappedValue = transform(value, path, fp.get(key, acc), result);result = fn(mappedValue, path, result);reduce(mappedValue, path);}), () => result))(acc);}; // curry
exports.traverse = traverse;const dropRightWhileWithKey = fp.dropRightWhile.convert({ cap: false });exports.dropRightWhileWithKey = dropRightWhileWithKey;
const dropWhileWithKey = fp.dropWhile.convert({ cap: false });exports.dropWhileWithKey = dropWhileWithKey;
const everyWithKey = fp.every.convert({ cap: false });exports.everyWithKey = everyWithKey;
const filterWithKey = fp.filter.convert({ cap: false });exports.filterWithKey = filterWithKey;
const findWithKey = fp.find.convert({ cap: false });exports.findWithKey = findWithKey;
const findFromWithKey = fp.findFrom.convert({ cap: false });exports.findFromWithKey = findFromWithKey;
const findIndexWithKey = fp.findIndex.convert({ cap: false });exports.findIndexWithKey = findIndexWithKey;
const findIndexFromWithKey = fp.findIndexFrom.convert({ cap: false });exports.findIndexFromWithKey = findIndexFromWithKey;
const findKeyWithKey = fp.findKey.convert({ cap: false });exports.findKeyWithKey = findKeyWithKey;
const findLastWithKey = fp.findLast.convert({ cap: false });exports.findLastWithKey = findLastWithKey;
const findLastFromWithKey = fp.findLastFrom.convert({ cap: false });exports.findLastFromWithKey = findLastFromWithKey;
const findLastIndexWithKey = fp.findLastIndex.convert({ cap: false });exports.findLastIndexWithKey = findLastIndexWithKey;
const findLastIndexFromWithKey = fp.findLastIndexFrom.convert({ cap: false });exports.findLastIndexFromWithKey = findLastIndexFromWithKey;
const findLastKeyWithKey = fp.findLastKey.convert({ cap: false });exports.findLastKeyWithKey = findLastKeyWithKey;
const flatMapWithKey = fp.flatMap.convert({ cap: false });exports.flatMapWithKey = flatMapWithKey;
const flatMapDeepWithKey = fp.flatMapDeep.convert({ cap: false });exports.flatMapDeepWithKey = flatMapDeepWithKey;
const flatMapDepthWithKey = fp.flatMapDepth.convert({ cap: false });exports.flatMapDepthWithKey = flatMapDepthWithKey;
const forEachWithKey = fp.forEach.convert({ cap: false });exports.forEachWithKey = forEachWithKey;
const forEachRightWithKey = fp.forEachRight.convert({ cap: false });exports.forEachRightWithKey = forEachRightWithKey;
const forInWithKey = fp.forIn.convert({ cap: false });exports.forInWithKey = forInWithKey;
const forInRightWithKey = fp.forInRight.convert({ cap: false });exports.forInRightWithKey = forInRightWithKey;
const forOwnWithKey = fp.forOwn.convert({ cap: false });exports.forOwnWithKey = forOwnWithKey;
const forOwnRightWithKey = fp.forOwnRight.convert({ cap: false });exports.forOwnRightWithKey = forOwnRightWithKey;
const mapWithKey = fp.map.convert({ cap: false });exports.mapWithKey = mapWithKey;
const mapKeysWithKey = fp.mapKeys.convert({ cap: false });exports.mapKeysWithKey = mapKeysWithKey;
const mapValuesWithKey = fp.mapValues.convert({ cap: false });exports.mapValuesWithKey = mapValuesWithKey;
const partitionWithKey = fp.partition.convert({ cap: false });exports.partitionWithKey = partitionWithKey;
const rejectWithKey = fp.reject.convert({ cap: false });exports.rejectWithKey = rejectWithKey;
const removeWithKey = fp.remove.convert({ cap: false });exports.removeWithKey = removeWithKey;
const someWithKey = fp.some.convert({ cap: false });exports.someWithKey = someWithKey;
const takeRightWhileWithKey = fp.takeRightWhile.convert({ cap: false });exports.takeRightWhileWithKey = takeRightWhileWithKey;
const takeWhileWithKey = fp.takeWhile.convert({ cap: false });exports.takeWhileWithKey = takeWhileWithKey;
const timesWithKey = fp.times.convert({ cap: false });exports.timesWithKey = timesWithKey;

const concatWith = fp.concat.convert({ rearg: true });exports.concatWith = concatWith;

const is = fp.curry(
(constructor, value) =>
/* istanbul ignore next */
value != null && value.constructor === constructor || value instanceof constructor);exports.is = is;


const evolve = fp.curry(function evolve(transformations, object) {
  const result = {};
  let transformation;
  let key;
  let type;
  for (key in object) {
    transformation = transformations[key];
    type = typeof transformation;
    /* istanbul ignore next */
    result[key] =
    type === 'function' ?
    transformation(object[key]) :
    transformation && type === 'object' ?
    evolve(transformation, object[key]) :
    object[key];
  }
  return result;
});exports.evolve = evolve;

const applySpec = fp.curry((destObj, srcObj) =>
fp.mapValues(ifElse(fp.isFunction, applyTo(srcObj), fp.identity), destObj));exports.applySpec = applySpec;

const append = fp.curry((elem, list) => fp.concat(list, [elem]));exports.append = append;

const prepend = fp.curry((elem, list) => fp.concat([elem], list));exports.prepend = prepend;

const objOf = fp.curry((key, value) => fp.set(key, value, {}));exports.objOf = objOf;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJpZkVsc2UiLCJwcmVkaWNhdGUiLCJ3aGVuVHJ1ZUZuIiwid2hlbkZhbHNlRm4iLCJhcmdzIiwid2hlbiIsImZwIiwiaWRlbnRpdHkiLCJhcHBseVRvIiwiZm4iLCJhcHBseSIsImZsYXR0ZW4iLCJ0cmF2ZXJzZSIsInRyYW5zZm9ybSIsInZhbHVlIiwicGF0aCIsIm9iaiIsInNldCIsInJlc3VsdCIsInJlZHVjZSIsImFjYyIsImtleXMiLCJvdmVyU29tZSIsImlzQXJyYXkiLCJpc1BsYWluT2JqZWN0IiwicGlwZSIsInRvUGFpcnMiLCJtYXAiLCJrZXkiLCJjb25jYXQiLCJtYXBwZWRWYWx1ZSIsImdldCIsImRyb3BSaWdodFdoaWxlV2l0aEtleSIsImRyb3BSaWdodFdoaWxlIiwiY29udmVydCIsImNhcCIsImRyb3BXaGlsZVdpdGhLZXkiLCJkcm9wV2hpbGUiLCJldmVyeVdpdGhLZXkiLCJldmVyeSIsImZpbHRlcldpdGhLZXkiLCJmaWx0ZXIiLCJmaW5kV2l0aEtleSIsImZpbmQiLCJmaW5kRnJvbVdpdGhLZXkiLCJmaW5kRnJvbSIsImZpbmRJbmRleFdpdGhLZXkiLCJmaW5kSW5kZXgiLCJmaW5kSW5kZXhGcm9tV2l0aEtleSIsImZpbmRJbmRleEZyb20iLCJmaW5kS2V5V2l0aEtleSIsImZpbmRLZXkiLCJmaW5kTGFzdFdpdGhLZXkiLCJmaW5kTGFzdCIsImZpbmRMYXN0RnJvbVdpdGhLZXkiLCJmaW5kTGFzdEZyb20iLCJmaW5kTGFzdEluZGV4V2l0aEtleSIsImZpbmRMYXN0SW5kZXgiLCJmaW5kTGFzdEluZGV4RnJvbVdpdGhLZXkiLCJmaW5kTGFzdEluZGV4RnJvbSIsImZpbmRMYXN0S2V5V2l0aEtleSIsImZpbmRMYXN0S2V5IiwiZmxhdE1hcFdpdGhLZXkiLCJmbGF0TWFwIiwiZmxhdE1hcERlZXBXaXRoS2V5IiwiZmxhdE1hcERlZXAiLCJmbGF0TWFwRGVwdGhXaXRoS2V5IiwiZmxhdE1hcERlcHRoIiwiZm9yRWFjaFdpdGhLZXkiLCJmb3JFYWNoIiwiZm9yRWFjaFJpZ2h0V2l0aEtleSIsImZvckVhY2hSaWdodCIsImZvckluV2l0aEtleSIsImZvckluIiwiZm9ySW5SaWdodFdpdGhLZXkiLCJmb3JJblJpZ2h0IiwiZm9yT3duV2l0aEtleSIsImZvck93biIsImZvck93blJpZ2h0V2l0aEtleSIsImZvck93blJpZ2h0IiwibWFwV2l0aEtleSIsIm1hcEtleXNXaXRoS2V5IiwibWFwS2V5cyIsIm1hcFZhbHVlc1dpdGhLZXkiLCJtYXBWYWx1ZXMiLCJwYXJ0aXRpb25XaXRoS2V5IiwicGFydGl0aW9uIiwicmVqZWN0V2l0aEtleSIsInJlamVjdCIsInJlbW92ZVdpdGhLZXkiLCJyZW1vdmUiLCJzb21lV2l0aEtleSIsInNvbWUiLCJ0YWtlUmlnaHRXaGlsZVdpdGhLZXkiLCJ0YWtlUmlnaHRXaGlsZSIsInRha2VXaGlsZVdpdGhLZXkiLCJ0YWtlV2hpbGUiLCJ0aW1lc1dpdGhLZXkiLCJ0aW1lcyIsImNvbmNhdFdpdGgiLCJyZWFyZyIsImlzIiwiY3VycnkiLCJjb25zdHJ1Y3RvciIsImV2b2x2ZSIsInRyYW5zZm9ybWF0aW9ucyIsIm9iamVjdCIsInRyYW5zZm9ybWF0aW9uIiwidHlwZSIsImFwcGx5U3BlYyIsImRlc3RPYmoiLCJzcmNPYmoiLCJpc0Z1bmN0aW9uIiwiYXBwZW5kIiwiZWxlbSIsImxpc3QiLCJwcmVwZW5kIiwib2JqT2YiXSwibWFwcGluZ3MiOiI7O0FBRUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFrQ0EsbVEscWNBcENBLG9CLENBSUE7QUFDTyxNQUFNQSxNQUFNLEdBQUcsQ0FBQ0MsU0FBRCxFQUFZQyxVQUFaLEVBQXdCQyxXQUF4QixLQUF3QyxDQUFDLEdBQUdDLElBQUosS0FDM0RILFNBQVMsQ0FBQyxHQUFHRyxJQUFKLENBQVQsR0FBcUJGLFVBQVUsQ0FBQyxHQUFHRSxJQUFKLENBQS9CLEdBQTJDRCxXQUFXLENBQUMsR0FBR0MsSUFBSixD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QUFVc0YsSUFBVixFQUFnQixDQUFDRCxJQUFELENBQWhCLENBQXpCLENBQWYsQzs7QUFFQSxNQUFNRSxPQUFPLEdBQUc5RyxFQUFFLENBQUNnRyxLQUFILENBQVMsQ0FBQ1ksSUFBRCxFQUFPQyxJQUFQLEtBQWdCN0csRUFBRSxDQUFDdUIsTUFBSCxDQUFVLENBQUNxRixJQUFELENBQVYsRUFBa0JDLElBQWxCLENBQXpCLENBQWhCLEM7O0FBRUEsTUFBTUUsS0FBSyxHQUFHL0csRUFBRSxDQUFDZ0csS0FBSCxDQUFTLENBQUMxRSxHQUFELEVBQU1kLEtBQU4sS0FBZ0JSLEVBQUUsQ0FBQ1csR0FBSCxDQUFPVyxHQUFQLEVBQVlkLEtBQVosRUFBbUIsRUFBbkIsQ0FBekIsQ0FBZCxDIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgKi9cblxuaW1wb3J0ICogYXMgZnAgZnJvbSAnbG9kYXNoL2ZwJ1xuXG4vLyBubyBjdXJyeVxuZXhwb3J0IGNvbnN0IGlmRWxzZSA9IChwcmVkaWNhdGUsIHdoZW5UcnVlRm4sIHdoZW5GYWxzZUZuKSA9PiAoLi4uYXJncykgPT5cbiAgKHByZWRpY2F0ZSguLi5hcmdzKSA/IHdoZW5UcnVlRm4oLi4uYXJncykgOiB3aGVuRmFsc2VGbiguLi5hcmdzKSlcblxuZXhwb3J0IGNvbnN0IHdoZW4gPSAocHJlZGljYXRlLCB3aGVuVHJ1ZUZuKSA9PiAoLi4uYXJncykgPT5cbiAgaWZFbHNlKHByZWRpY2F0ZSwgd2hlblRydWVGbiwgZnAuaWRlbnRpdHkpKC4uLmFyZ3MpXG5cbmV4cG9ydCBjb25zdCBhcHBseVRvID0gKC4uLmFyZ3MpID0+IGZuID0+IGZwLmFwcGx5KGZuKShmcC5mbGF0dGVuKGFyZ3MpKVxuXG5leHBvcnQgY29uc3QgdHJhdmVyc2UgPSAoXG4gIHRyYW5zZm9ybSA9IGZwLmlkZW50aXR5LFxuICBmbiA9ICh2YWx1ZSwgcGF0aCwgb2JqKSA9PiBmcC5zZXQocGF0aCwgdmFsdWUsIG9iaiksXG4gIHJlc3VsdCA9IHt9XG4pID0+XG4gIGZ1bmN0aW9uIHJlZHVjZShhY2MsIGtleXMgPSBbXSkge1xuICAgIHJldHVybiB3aGVuKFxuICAgICAgZnAub3ZlclNvbWUoW2ZwLmlzQXJyYXksIGZwLmlzUGxhaW5PYmplY3RdKSxcbiAgICAgIGZwLnBpcGUoXG4gICAgICAgIGZwLnRvUGFpcnMsXG4gICAgICAgIGZwLm1hcCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgY29uc3QgcGF0aCA9IGtleXMuY29uY2F0KGtleSlcbiAgICAgICAgICBjb25zdCBtYXBwZWRWYWx1ZSA9IHRyYW5zZm9ybSh2YWx1ZSwgcGF0aCwgZnAuZ2V0KGtleSwgYWNjKSwgcmVzdWx0KVxuICAgICAgICAgIHJlc3VsdCA9IGZuKG1hcHBlZFZhbHVlLCBwYXRoLCByZXN1bHQpXG5cbiAgICAgICAgICByZWR1Y2UobWFwcGVkVmFsdWUsIHBhdGgpXG4gICAgICAgIH0pLFxuICAgICAgICAoKSA9PiByZXN1bHRcbiAgICAgIClcbiAgICApKGFjYylcbiAgfVxuXG4vLyBjdXJyeVxuZXhwb3J0ICogZnJvbSAnbG9kYXNoL2ZwJ1xuXG5leHBvcnQgY29uc3QgZHJvcFJpZ2h0V2hpbGVXaXRoS2V5ID0gZnAuZHJvcFJpZ2h0V2hpbGUuY29udmVydCh7IGNhcDogZmFsc2UgfSlcbmV4cG9ydCBjb25zdCBkcm9wV2hpbGVXaXRoS2V5ID0gZnAuZHJvcFdoaWxlLmNvbnZlcnQoeyBjYXA6IGZhbHNlIH0pXG5leHBvcnQgY29uc3QgZXZlcnlXaXRoS2V5ID0gZnAuZXZlcnkuY29udmVydCh7IGNhcDogZmFsc2UgfSlcbmV4cG9ydCBjb25zdCBmaWx0ZXJXaXRoS2V5ID0gZnAuZmlsdGVyLmNvbnZlcnQoeyBjYXA6IGZhbHNlIH0pXG5leHBvcnQgY29uc3QgZmluZFdpdGhLZXkgPSBmcC5maW5kLmNvbnZlcnQoeyBjYXA6IGZhbHNlIH0pXG5leHBvcnQgY29uc3QgZmluZEZyb21XaXRoS2V5ID0gZnAuZmluZEZyb20uY29udmVydCh7IGNhcDogZmFsc2UgfSlcbmV4cG9ydCBjb25zdCBmaW5kSW5kZXhXaXRoS2V5ID0gZnAuZmluZEluZGV4LmNvbnZlcnQoeyBjYXA6IGZhbHNlIH0pXG5leHBvcnQgY29uc3QgZmluZEluZGV4RnJvbVdpdGhLZXkgPSBmcC5maW5kSW5kZXhGcm9tLmNvbnZlcnQoeyBjYXA6IGZhbHNlIH0pXG5leHBvcnQgY29uc3QgZmluZEtleVdpdGhLZXkgPSBmcC5maW5kS2V5LmNvbnZlcnQoeyBjYXA6IGZhbHNlIH0pXG5leHBvcnQgY29uc3QgZmluZExhc3RXaXRoS2V5ID0gZnAuZmluZExhc3QuY29udmVydCh7IGNhcDogZmFsc2UgfSlcbmV4cG9ydCBjb25zdCBmaW5kTGFzdEZyb21XaXRoS2V5ID0gZnAuZmluZExhc3RGcm9tLmNvbnZlcnQoeyBjYXA6IGZhbHNlIH0pXG5leHBvcnQgY29uc3QgZmluZExhc3RJbmRleFdpdGhLZXkgPSBmcC5maW5kTGFzdEluZGV4LmNvbnZlcnQoeyBjYXA6IGZhbHNlIH0pXG5leHBvcnQgY29uc3QgZmluZExhc3RJbmRleEZyb21XaXRoS2V5ID0gZnAuZmluZExhc3RJbmRleEZyb20uY29udmVydCh7IGNhcDogZmFsc2UgfSlcbmV4cG9ydCBjb25zdCBmaW5kTGFzdEtleVdpdGhLZXkgPSBmcC5maW5kTGFzdEtleS5jb252ZXJ0KHsgY2FwOiBmYWxzZSB9KVxuZXhwb3J0IGNvbnN0IGZsYXRNYXBXaXRoS2V5ID0gZnAuZmxhdE1hcC5jb252ZXJ0KHsgY2FwOiBmYWxzZSB9KVxuZXhwb3J0IGNvbnN0IGZsYXRNYXBEZWVwV2l0aEtleSA9IGZwLmZsYXRNYXBEZWVwLmNvbnZlcnQoeyBjYXA6IGZhbHNlIH0pXG5leHBvcnQgY29uc3QgZmxhdE1hcERlcHRoV2l0aEtleSA9IGZwLmZsYXRNYXBEZXB0aC5jb252ZXJ0KHsgY2FwOiBmYWxzZSB9KVxuZXhwb3J0IGNvbnN0IGZvckVhY2hXaXRoS2V5ID0gZnAuZm9yRWFjaC5jb252ZXJ0KHsgY2FwOiBmYWxzZSB9KVxuZXhwb3J0IGNvbnN0IGZvckVhY2hSaWdodFdpdGhLZXkgPSBmcC5mb3JFYWNoUmlnaHQuY29udmVydCh7IGNhcDogZmFsc2UgfSlcbmV4cG9ydCBjb25zdCBmb3JJbldpdGhLZXkgPSBmcC5mb3JJbi5jb252ZXJ0KHsgY2FwOiBmYWxzZSB9KVxuZXhwb3J0IGNvbnN0IGZvckluUmlnaHRXaXRoS2V5ID0gZnAuZm9ySW5SaWdodC5jb252ZXJ0KHsgY2FwOiBmYWxzZSB9KVxuZXhwb3J0IGNvbnN0IGZvck93bldpdGhLZXkgPSBmcC5mb3JPd24uY29udmVydCh7IGNhcDogZmFsc2UgfSlcbmV4cG9ydCBjb25zdCBmb3JPd25SaWdodFdpdGhLZXkgPSBmcC5mb3JPd25SaWdodC5jb252ZXJ0KHsgY2FwOiBmYWxzZSB9KVxuZXhwb3J0IGNvbnN0IG1hcFdpdGhLZXkgPSBmcC5tYXAuY29udmVydCh7IGNhcDogZmFsc2UgfSlcbmV4cG9ydCBjb25zdCBtYXBLZXlzV2l0aEtleSA9IGZwLm1hcEtleXMuY29udmVydCh7IGNhcDogZmFsc2UgfSlcbmV4cG9ydCBjb25zdCBtYXBWYWx1ZXNXaXRoS2V5ID0gZnAubWFwVmFsdWVzLmNvbnZlcnQoeyBjYXA6IGZhbHNlIH0pXG5leHBvcnQgY29uc3QgcGFydGl0aW9uV2l0aEtleSA9IGZwLnBhcnRpdGlvbi5jb252ZXJ0KHsgY2FwOiBmYWxzZSB9KVxuZXhwb3J0IGNvbnN0IHJlamVjdFdpdGhLZXkgPSBmcC5yZWplY3QuY29udmVydCh7IGNhcDogZmFsc2UgfSlcbmV4cG9ydCBjb25zdCByZW1vdmVXaXRoS2V5ID0gZnAucmVtb3ZlLmNvbnZlcnQoeyBjYXA6IGZhbHNlIH0pXG5leHBvcnQgY29uc3Qgc29tZVdpdGhLZXkgPSBmcC5zb21lLmNvbnZlcnQoeyBjYXA6IGZhbHNlIH0pXG5leHBvcnQgY29uc3QgdGFrZVJpZ2h0V2hpbGVXaXRoS2V5ID0gZnAudGFrZVJpZ2h0V2hpbGUuY29udmVydCh7IGNhcDogZmFsc2UgfSlcbmV4cG9ydCBjb25zdCB0YWtlV2hpbGVXaXRoS2V5ID0gZnAudGFrZVdoaWxlLmNvbnZlcnQoeyBjYXA6IGZhbHNlIH0pXG5leHBvcnQgY29uc3QgdGltZXNXaXRoS2V5ID0gZnAudGltZXMuY29udmVydCh7IGNhcDogZmFsc2UgfSlcblxuZXhwb3J0IGNvbnN0IGNvbmNhdFdpdGggPSBmcC5jb25jYXQuY29udmVydCh7IHJlYXJnOiB0cnVlIH0pXG5cbmV4cG9ydCBjb25zdCBpcyA9IGZwLmN1cnJ5KFxuICAoY29uc3RydWN0b3IsIHZhbHVlKSA9PlxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgKHZhbHVlICE9IG51bGwgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IGNvbnN0cnVjdG9yKSB8fCB2YWx1ZSBpbnN0YW5jZW9mIGNvbnN0cnVjdG9yXG4pXG5cbmV4cG9ydCBjb25zdCBldm9sdmUgPSBmcC5jdXJyeShmdW5jdGlvbiBldm9sdmUodHJhbnNmb3JtYXRpb25zLCBvYmplY3QpIHtcbiAgY29uc3QgcmVzdWx0ID0ge31cbiAgbGV0IHRyYW5zZm9ybWF0aW9uXG4gIGxldCBrZXlcbiAgbGV0IHR5cGVcbiAgZm9yIChrZXkgaW4gb2JqZWN0KSB7XG4gICAgdHJhbnNmb3JtYXRpb24gPSB0cmFuc2Zvcm1hdGlvbnNba2V5XVxuICAgIHR5cGUgPSB0eXBlb2YgdHJhbnNmb3JtYXRpb25cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIHJlc3VsdFtrZXldID1cbiAgICAgIHR5cGUgPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyB0cmFuc2Zvcm1hdGlvbihvYmplY3Rba2V5XSlcbiAgICAgICAgOiB0cmFuc2Zvcm1hdGlvbiAmJiB0eXBlID09PSAnb2JqZWN0J1xuICAgICAgICAgID8gZXZvbHZlKHRyYW5zZm9ybWF0aW9uLCBvYmplY3Rba2V5XSlcbiAgICAgICAgICA6IG9iamVjdFtrZXldXG4gIH1cbiAgcmV0dXJuIHJlc3VsdFxufSlcblxuZXhwb3J0IGNvbnN0IGFwcGx5U3BlYyA9IGZwLmN1cnJ5KChkZXN0T2JqLCBzcmNPYmopID0+XG4gIGZwLm1hcFZhbHVlcyhpZkVsc2UoZnAuaXNGdW5jdGlvbiwgYXBwbHlUbyhzcmNPYmopLCBmcC5pZGVudGl0eSksIGRlc3RPYmopKVxuXG5leHBvcnQgY29uc3QgYXBwZW5kID0gZnAuY3VycnkoKGVsZW0sIGxpc3QpID0+IGZwLmNvbmNhdChsaXN0LCBbZWxlbV0pKVxuXG5leHBvcnQgY29uc3QgcHJlcGVuZCA9IGZwLmN1cnJ5KChlbGVtLCBsaXN0KSA9PiBmcC5jb25jYXQoW2VsZW1dLCBsaXN0KSlcblxuZXhwb3J0IGNvbnN0IG9iak9mID0gZnAuY3VycnkoKGtleSwgdmFsdWUpID0+IGZwLnNldChrZXksIHZhbHVlLCB7fSkpXG4iXX0=